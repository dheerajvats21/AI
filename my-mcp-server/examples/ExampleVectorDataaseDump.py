"""
{
  "ids": [
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_2",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_3",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_4",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_5",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_6",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_7",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_8",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_9",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_10",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java_11",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java_2",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_2",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_3",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_4",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_5",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_6",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_7",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java_8",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/DataBase.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/DataBase.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java_2",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java_3",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java_4",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/dtos/ItemAddedDto.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/exceptionsHandlers/GlobalExceptionHandler.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/exceptionsHandlers/GlobalExceptionHandler.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java_2",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java_3",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java_4",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartService.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/User.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/CartItem.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/CartItem.java_1",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/Cart.java_0",
    "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/Item.java_0"
  ],
  "embeddings": null,
  "documents": [
    "package com.example.Cart;\n\nimport com.example.Cart.dtos.ItemAddedDto;\nimport com.example.Cart.entities.Cart;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Assertions.*;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.web.server.LocalServerPort;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.HttpSta",
    "ttpMethod;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass CartApplicationTests {\n\n\t@LocalServerPort\n\tprivate int port;\n",
    "tionTests {\n\n\t@LocalServerPort\n\tprivate int port;\n\n\tprivate RestTemplate template = new RestTemplate();\n\n\n\tResponseEntity<ItemAddedDto> addItem(String userID, String itemID, Integer quantity) {\n\t\tString url = String.format(\"http://localhost:%s/cart/additem?userId=%s&itemId=%s%s\", port, userID, itemID,\n\t\t\t\tquantity != null ? \"&quantity=\" + quantity : \"\" );\n\t\treturn template.postForEntity(url, null, ItemAddedDto.class);\n\n\t}\n\n\tResponseEntity<String> viewCart(String userID) {\n\t\tString url = \"http://",
    " viewCart(String userID) {\n\t\tString url = \"http://localhost:\" + port + \"/cart/getcart/\" + userID;\n\t\treturn template.getForEntity(url, String.class);\n\t}\n\n\tResponseEntity<String> clearCart(String userID) {\n\t\tString url = \"http://localhost:\" + port + \"/cart/clearcart/\" + userID;\n\t\treturn template.exchange(url, HttpMethod.DELETE, null, String.class);\n\t}\n\n\tResponseEntity<String> removeItem(String userID, String itemId) {\n\t\tString url = String.format(\"http://localhost:%s/cart/removeitem/%s/%s\", port, ",
    "http://localhost:%s/cart/removeitem/%s/%s\", port, userID, itemId);\n\t\treturn template.exchange(url, HttpMethod.DELETE, null, String.class);\n\n\t}\n\n\tResponseEntity<String> updateItem(String userID, String itemID, Integer quantity) {\n\t\tString url = String.format(\"http://localhost:%s/cart/updatequantity/%s/%s/%s\",\n\t\t\t\tport, userID, itemID, quantity);\n\t\treturn template.exchange(url, HttpMethod.PUT,null, String.class);\n\t}\n\t@Test\n\tvoid testAddItem() {\n\t\tResponseEntity<ItemAddedDto> response = addItem(\"1\"",
    "esponseEntity<ItemAddedDto> response = addItem(\"1\",\"1\",2);\n\t\tAssertions.assertEquals(HttpStatus.OK, response.getStatusCode());\n\t\tAssertions.assertNotNull(response.getBody());\n\t\tAssertions.assertEquals(\"item added successfully\", response.getBody().getResponse());\n\t}\n\n\t@Test\n\tvoid testViewCart() {\n\t\taddItem(\"1\",\"1\",2);\n\t\tResponseEntity<String> response = viewCart(\"1\");\n\t\tAssertions.assertEquals(HttpStatus.OK, response.getStatusCode());\n\t\tAssertions.assertNotNull(response.getBody());\n\t\tSystem.out.p",
    ".assertNotNull(response.getBody());\n\t\tSystem.out.println(response.getBody());\n//\t\tAssertions.assertEquals(\"item added successfully\", response.getBody().getResponse());\n\t}\n\n\t@Test\n\tvoid testRemoveItem() {\n\t\taddItem(\"1\",\"1\",2);\n\t\taddItem(\"1\",\"2\",null);\n\t\tResponseEntity<String> responseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"before removal \" + responseViewCart.getBody());\n\n\t\tResponseEntity<String> response = removeItem(\"1\", \"2\");\n\t\tSystem.out.println(\"The response of remove \" + response.get",
    "t.println(\"The response of remove \" + response.getBody());\n\t\tresponseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"after removal \" + responseViewCart.getBody());\n\n\t}\n\n\t@Test\n\tvoid testClearCart() {\n\t\taddItem(\"1\",\"1\",2);\n\t\taddItem(\"1\",\"2\",null);\n\t\taddItem(\"2\",\"1\",null);\n\t\taddItem(\"2\",\"2\",3);\n\n\t\tResponseEntity<String> responseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"before removal for user 1 \" + responseViewCart.getBody());\n\t\tresponseViewCart = viewCart(\"2\");\n\t\tSystem.out.println(\"before ",
    "art = viewCart(\"2\");\n\t\tSystem.out.println(\"before removal for user 2 \" + responseViewCart.getBody());\n\n\t\tclearCart(\"1\");\n\t\tresponseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"after removal for user 1 \" + responseViewCart.getBody());\n\t\tresponseViewCart = viewCart(\"2\");\n\t\tSystem.out.println(\"after removal for user 2 \" + responseViewCart.getBody());\n\t}\n\n\t@Test\n\tvoid testUpdate() {\n\t\taddItem(\"1\",\"1\",2);\n\t\taddItem(\"1\",\"2\",null);\n\t\taddItem(\"2\",\"1\",null);\n\t\taddItem(\"2\",\"2\",3);\n\n\t\tResponseEntity<Str",
    "null);\n\t\taddItem(\"2\",\"2\",3);\n\n\t\tResponseEntity<String> responseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"before update for user 1 \" + responseViewCart.getBody());\n\t\tresponseViewCart = viewCart(\"2\");\n\t\tSystem.out.println(\"before update for user 2 \" + responseViewCart.getBody());\n\n\t\tupdateItem(\"1\", \"1\", 1);\n\t\tupdateItem(\"2\", \"1\", 0);\n\n\t\tresponseViewCart = viewCart(\"1\");\n\t\tSystem.out.println(\"after update for user 1 \" + responseViewCart.getBody());\n\t\tresponseViewCart = viewCart(\"2\");\n\t\tSystem",
    "y());\n\t\tresponseViewCart = viewCart(\"2\");\n\t\tSystem.out.println(\"after update for user 2 \" + responseViewCart.getBody());\n\n\t}\n\n\t@Test\n\tvoid testMultiThreadAdd() throws InterruptedException {\n\n\t\tExecutor service = Executors.newFixedThreadPool(10);\n\t\tCountDownLatch countDownLatch= new CountDownLatch(10);\n\n\n\t\tfor (int i = 0; i < 10; ++i) {\n\n\t\t\tservice.execute(() -> {\n\t\t\t\ttry {\n\t\t\t\t\taddItem(\"1\", \"1\", null);\n\t\t\t\t} finally {\n\t\t\t\t\tcountDownLatch.countDown();\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\tcountDownLatch.await();\n\t",
    "n();\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\tcountDownLatch.await();\n\t\tResponseEntity<String> responseViewCart = viewCart(\"1\");\n\n\t\tSystem.out.println(\"see\" + responseViewCart.getBody());\n\t}\n\n}\n",
    "package com.example.Cart;\n\nimport com.example.Cart.entities.Item;\nimport com.example.Cart.entities.User;\nimport com.example.Cart.repos.DataBase;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CartApplication implements CommandLineRunner {\n\n\t@Autowired\n\tDataBase db;\n\n\tpublic s",
    "LineRunner {\n\n\t@Autowired\n\tDataBase db;\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(CartApplication.class, args);\n\t}\n\n\t@Override\n\tpublic void run(String... args) throws Exception {\n\t\tdb.addItem(Item.builder()\n\t\t\t\t\t\t.id(\"1\")\n\t\t\t\t.name(\"name1\")\n\t\t\t\t.price(20)\n\t\t\t\t.build());\n\t\tdb.addItem(Item.builder()\n\t\t\t\t.id(\"2\")\n\t\t\t\t.name(\"name2\")\n\t\t\t\t.price(100)\n\t\t\t\t.build());\n\t\tdb.addUser(User.builder()\n\t\t\t\t.id(\"1\")\n\t\t\t\t.age(23)\n\t\t\t\t.name(\"A\")\n\t\t\t\t.build());\n\t\tdb.addUser(User.builder()\n\t",
    "(\"A\")\n\t\t\t\t.build());\n\t\tdb.addUser(User.builder()\n\t\t\t\t.id(\"2\")\n\t\t\t\t.age(30)\n\t\t\t\t.name(\"B\")\n\t\t\t\t.build());\n\t}\n}\n",
    "package com.example.Cart.repos;\n\nimport com.example.Cart.entities.Cart;\nimport com.example.Cart.entities.CartItem;\nimport com.example.Cart.entities.Item;\nimport com.example.Cart.entities.User;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Map;\nimport java.util.UUID;\nimport java.util.concurrent.ConcurrentHashMap;\n\n@Component\npublic class InMemoryCartDataBase implements DataBase {\n\n    Map<String, Item> itemsMap = new ConcurrentHashMap<>();\n    Map<String, User> userMap = new ",
    "tHashMap<>();\n    Map<String, User> userMap = new ConcurrentHashMap<>();\n    Map<User, Cart> userToCart = new ConcurrentHashMap<>();\n\n    @Override\n    public void addItem(Item item) {\n        String id = item.getId();\n        if (id == null) {\n            item.setId(UUID.randomUUID().toString());\n\n        } else {\n           if (itemsMap.containsKey(id)) return;\n        }\n        itemsMap.putIfAbsent(item.getId(), item);\n        System.out.println(\"item added with id = \" + item.getId());\n    }\n",
    "ln(\"item added with id = \" + item.getId());\n    }\n\n    @Override\n    public Item removeItem(Item item) {\n        String id = item.getId();\n        if (id != null) {\n            return itemsMap.remove(id);\n        }\n        return null;\n    }\n\n    @Override\n    public Item getItem(String itemID) {\n        return itemsMap.getOrDefault(itemID, null);\n    }\n\n    @Override\n    public void addUser(User user) {\n        String id = user.getId();\n        if (id == null) {\n            user.setId(UUID.rand",
    "if (id == null) {\n            user.setId(UUID.randomUUID().toString());\n        } else {\n            if (userMap.containsKey(id)) return;\n        }\n        userMap.putIfAbsent(user.getId(), user);\n        System.out.println(\"User added with id = \" + user.getId());\n    }\n\n    @Override\n    public User removeUser(User user) {\n        String id = user.getId();\n        if (id != null) {\n            return userMap.remove(id);\n        }\n        return null;\n    }\n\n    @Override\n    public User getUser",
    "null;\n    }\n\n    @Override\n    public User getUser(String userId) {\n        return userMap.getOrDefault(userId, null);\n    }\n\n    @Override\n    public void addItemForUser(Item item, User user, Integer quantity) {\n        if (!itemsMap.containsKey(item.getId()) || !userMap.containsKey(user.getId())) return;\n\n        userToCart.compute(user, (k, v) -> {\n            if (v == null) {\n                v = new Cart();\n            }\n            Map<Item, CartItem> itemsToCartItem = v.getItemtoCartItem()",
    " CartItem> itemsToCartItem = v.getItemtoCartItem();\n\n            itemsToCartItem.putIfAbsent(item, CartItem.builder().item(item).build());\n            CartItem cartItem = itemsToCartItem.get(item);\n            cartItem.setQuantity(cartItem.getQuantity() + (quantity == null ? 1 : quantity));\n            return v;\n        });\n        return;\n    }\n\n    @Override\n    public void removeItemForUser(Item item, User user) {\n        if (!itemsMap.containsKey(item.getId()) || !userMap.containsKey(user.ge",
    "sKey(item.getId()) || !userMap.containsKey(user.getId())\n                || !userToCart.containsKey(user)) return;\n        userToCart.compute(user, (k, v) -> {\n            if (v != null) v.getItemtoCartItem().remove(item);\n            return v;\n        });\n    }\n\n    @Override\n    public void clearCart(User user) {\n        if (!userMap.containsKey(user.getId())\n                || !userToCart.containsKey(user)) return;\n        userToCart.remove(user);\n    }\n\n    @Override\n    public Cart getCart(",
    "er);\n    }\n\n    @Override\n    public Cart getCart(User user) {\n        if (!userMap.containsKey(user.getId())\n                || !userToCart.containsKey(user)) return null;\n        return userToCart.get(user);\n    }\n\n    @Override\n    public void updateItemForUser(Item item, User user, Integer quantity) {\n        if (!itemsMap.containsKey(item.getId()) || !userMap.containsKey(user.getId()) || quantity == null) return;\n\n        userToCart.compute(user, (k, v) -> {\n            if (v == null) {\n   ",
    "user, (k, v) -> {\n            if (v == null) {\n                v = new Cart();\n            }\n            Map<Item, CartItem> itemsToCartItem = v.getItemtoCartItem();\n\n            itemsToCartItem.putIfAbsent(item, CartItem.builder().item(item).build());\n            CartItem cartItem = itemsToCartItem.get(item);\n            cartItem.setQuantity(quantity);\n            return v;\n        });\n    }\n}\n",
    "package com.example.Cart.repos;\n\nimport com.example.Cart.entities.Cart;\nimport com.example.Cart.entities.Item;\nimport com.example.Cart.entities.User;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic interface DataBase {\n\n    void addItem(Item item);\n    Item removeItem(Item item);\n    Item getItem(String itemID);\n    void addUser(User user);\n    User removeUser(User user);\n    User getUser(String user);\n\n    void addItemForUser(Item item, User user, Integer quantity);\n    void",
    "(Item item, User user, Integer quantity);\n    void removeItemForUser(Item item, User user);\n\n    void clearCart(User user);\n    Cart getCart(User user);\n\n    void updateItemForUser(Item item, User user, Integer quantity);\n\n\n}\n",
    "package com.example.Cart.controller;\n\nimport com.example.Cart.dtos.ItemAddedDto;\nimport com.example.Cart.entities.Cart;\nimport com.example.Cart.service.CartService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@AllArgsConstructor\n@RestController\n@RequestMapping(\"/cart\")\npublic class CartController {\n    private final CartService cartService;\n\n    @PostMapping(\"/additem\")\n    public ResponseEntity<ItemAddedDto",
    "\"/additem\")\n    public ResponseEntity<ItemAddedDto> addItem(@RequestParam String userId,\n                                                @RequestParam String itemId,\n                                                @RequestParam(required = false) Integer quantity) throws Exception {\n        cartService.addItem(itemId, userId, quantity);\n        return ResponseEntity.ok(ItemAddedDto.builder()\n                .response(\"item added successfully\")\n                .build());\n    }\n\n    @GetMapping(\"ge",
    "             .build());\n    }\n\n    @GetMapping(\"getcart/{userID}\")\n    public ResponseEntity<String> viewCart(@PathVariable String userID) {\n        Cart cart = cartService.viewCart(userID);\n        return ResponseEntity.ok(cart != null ? cart.toString(): \"Empty Cart\");\n    }\n\n    @DeleteMapping(\"removeitem/{userID}/{itemID}\")\n    public ResponseEntity<String> removeItem(@PathVariable String userID, @PathVariable String itemID) {\n        cartService.removeItem(userID, itemID);\n        return Res",
    "ice.removeItem(userID, itemID);\n        return ResponseEntity.ok(\"removed\");\n    }\n\n    @DeleteMapping(\"clearcart/{userID}\")\n    public ResponseEntity<String> clearCart(@PathVariable String userID) {\n        cartService.clearCart(userID);\n        return ResponseEntity.ok(\"cleared\");\n    }\n\n    @PutMapping(\"/updatequantity/{userId}/{itemId}/{quantity}\")\n    public ResponseEntity<String> updateItemQuantity(@PathVariable String userId,\n                                                     @PathVaria",
    "                                        @PathVariable String itemId,\n                                                     @PathVariable Integer quantity) {\n        cartService.updateItemQuantity(userId, itemId, quantity);\n        return ResponseEntity.ok(\"done\");\n    }\n\n}\n",
    "package com.example.Cart.dtos;\n\nimport lombok.Builder;\n\n@Builder\npublic class ItemAddedDto {\n    public String getResponse() {\n        return response;\n    }\n\n    private String response;\n}\n",
    "package com.example.Cart.exceptionsHandlers;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity<String> handleGenericException(Exception e) {\n        return ResponseEntity.badRequest().body(\"Error bad request\" + e.getMessage());\n    }\n}\n",
    "Error bad request\" + e.getMessage());\n    }\n}\n",
    "package com.example.Cart.service;\n\nimport com.example.Cart.entities.Cart;\nimport com.example.Cart.entities.Item;\nimport com.example.Cart.entities.User;\nimport com.example.Cart.repos.DataBase;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class CartServiceImpl implements CartService {\n    private final DataBase dataBase;\n\n    @Autowired\n    public CartServiceImpl(DataBase dataBase) {\n        this.dataBase = dataBase;",
    "Base dataBase) {\n        this.dataBase = dataBase;\n    }\n\n    @Override\n    public void addItem(String itemID, String userID, Integer quantity) throws Exception{\n        Item item = dataBase.getItem(itemID);\n        User user = dataBase.getUser(userID);\n        if (user != null && item != null) dataBase.addItemForUser(item, user, quantity);\n        else {\n            throw new Exception(\"wrong item or user \" + userID + \" , \" + itemID);\n        }\n    }\n\n    @Override\n    public Cart viewCart(Stri",
    "    }\n\n    @Override\n    public Cart viewCart(String userID) {\n        User user = dataBase.getUser(userID);\n        if (user != null) {\n            return dataBase.getCart(user);\n        }\n        return null;\n    }\n\n    @Override\n    public void removeItem(String userID, String itemId) {\n        Item item = dataBase.getItem(itemId);\n        User user = dataBase.getUser(userID);\n        if (user != null && item != null) dataBase.removeItemForUser(item, user);\n    }\n\n    @Override\n    public voi",
    "r(item, user);\n    }\n\n    @Override\n    public void clearCart(String userID) {\n        User user = dataBase.getUser(userID);\n        if (user != null) {\n            dataBase.clearCart(user);\n        }\n    }\n\n    @Override\n    public void updateItemQuantity(String userID, String itemId, Integer quantity) {\n        Item item = dataBase.getItem(itemId);\n        User user = dataBase.getUser(userID);\n        if (user != null && item != null) dataBase.updateItemForUser(item, user, quantity);\n    }\n}\n",
    "updateItemForUser(item, user, quantity);\n    }\n}\n",
    "package com.example.Cart.service;\n\nimport com.example.Cart.entities.Cart;\n\npublic interface CartService {\n    void addItem(String itemID, String userID, Integer quantity) throws Exception; // adds quantity amount to cart\n    Cart viewCart(String userID);\n    void removeItem(String userID, String itemId); // removes completely\n    void clearCart(String userID);\n    void updateItemQuantity(String userID, String itemId, Integer quantity);\n}\n",
    "package com.example.Cart.entities;\n\nimport lombok.Builder;\n\n@Builder\npublic class User {\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    String id;\n    String name;\n    Integer age;\n\n}\n",
    "package com.example.Cart.entities;\n\nimport lombok.Builder;\n\n@Builder\npublic class CartItem {\n    Item item;\n\n    public Item getItem() {\n        return item;\n    }\n\n    public void setItem(Item item) {\n        this.item = item;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    int quantity;\n\n    @Override\n    public String toString() {\n        return \"item = \" + item.getId() + \" quantity ",
    "     return \"item = \" + item.getId() + \" quantity = \" + quantity;\n    }\n}\n",
    "package com.example.Cart.entities;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class Cart {\n    public Map<Item, CartItem> getItemtoCartItem() {\n        return itemtoCartItem;\n    }\n\n    Map<Item, CartItem> itemtoCartItem = new HashMap<>();\n\n    @Override\n    public String toString() {\n        return itemtoCartItem.entrySet().stream().map(entry -> entry.getValue()).toList().toString();\n    }\n}\n",
    "package com.example.Cart.entities;\n\nimport lombok.Builder;\n\nimport java.util.UUID;\n\n@Builder\npublic class Item {\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    private String id;\n\n    public String getName() {\n        return name;\n    }\n\n    public Integer getPrice() {\n        return price;\n    }\n\n    private String name;\n    private Integer price;\n\n\n}\n"
  ],
  "uris": null,
  "included": [
    "documents",
    "metadatas"
  ],
  "data": null,
  "metadatas": [
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "chunk_index": 1,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "chunk_index": 2,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "chunk_index": 3,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java",
      "chunk_index": 4
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java",
      "chunk_index": 5
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java",
      "chunk_index": 6
    },
    {
      "chunk_index": 7,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "chunk_index": 8,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "chunk_index": 9,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java",
      "chunk_index": 10
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/test/java/com/example/Cart/CartApplicationTests.java",
      "chunk_index": 11
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java",
      "chunk_index": 1
    },
    {
      "chunk_index": 2,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/CartApplication.java"
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java"
    },
    {
      "chunk_index": 1,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java",
      "chunk_index": 2
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java",
      "chunk_index": 3
    },
    {
      "chunk_index": 4,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java"
    },
    {
      "chunk_index": 5,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java"
    },
    {
      "chunk_index": 6,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java",
      "chunk_index": 7
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/InMemoryCartDataBase.java",
      "chunk_index": 8
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/DataBase.java",
      "chunk_index": 0
    },
    {
      "chunk_index": 1,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/repos/DataBase.java"
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java"
    },
    {
      "chunk_index": 1,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java",
      "chunk_index": 2
    },
    {
      "chunk_index": 3,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java"
    },
    {
      "chunk_index": 4,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/controller/CartController.java"
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/dtos/ItemAddedDto.java"
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/exceptionsHandlers/GlobalExceptionHandler.java"
    },
    {
      "chunk_index": 1,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/exceptionsHandlers/GlobalExceptionHandler.java"
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java",
      "chunk_index": 1
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java",
      "chunk_index": 2
    },
    {
      "chunk_index": 3,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartServiceImpl.java",
      "chunk_index": 4
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/service/CartService.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/User.java",
      "chunk_index": 0
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/CartItem.java",
      "chunk_index": 0
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/CartItem.java",
      "chunk_index": 1
    },
    {
      "chunk_index": 0,
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/Cart.java"
    },
    {
      "file": "/Users/Dheeraj/Documents/Design/SpringBootQuestions/Cart/src/main/java/com/example/Cart/entities/Item.java",
      "chunk_index": 0
    }
  ]
}
"""